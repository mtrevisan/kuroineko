<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta name="author" content="Mauro Trevisan">
	<link rel="shortcut icon" href="../favicon.png" />

	<title>test</title>

	<script src="../app/AMDLoader.js"></script>

	<script>
		AMDLoader.config = {
			baseUrl: '../app',
			paths: {
				libs: '../libs'
			}
		};


		var composeInfinitive = (function(){
			var themeVowel = ['à', 'é', 'e', 'í', 'í'];

			return function(v){
				return v.prefix + v.radix + themeVowel[v.conjugation - 1] + 'r';
			};
		})();


if(false)
		require(['tools/lang/morphology/AFFFileRules', 'tools/lang/morphology/Verb', 'tools/lang/data/VerbsDictionary', 'libs/jsonh'], function(AFFFileRules, Verb, verbsDictionary, JSONH){
			verbsDictionary = JSONH.unpack(verbsDictionary);

			var start = +new Date();

			var verbs = [],
				infinitives = [];
			verbsDictionary.forEach(function(infinitive){
				infinitive = composeInfinitive(infinitive).replace(/ɉ/g, 'j');
				if(infinitives.indexOf(infinitive) < 0){
					infinitives.push(infinitive);

					verbs.push(new Verb(infinitive));
				}
			});
			AFFFileRules.generate(verbs);

			console.log(((+new Date() - start) / 1000).toFixed(2) + ' s');
		});

if(false)
		require(['tools/lang/detection/NGrams'], function(NGrams){
			var ngrams1 = new NGrams();
			ngrams1.feed('n-gram on grams');
			ngrams1.sort();
			var ngrams2 = new NGrams();
			ngrams2.feed('ram');
			var distance = ngrams1.distance(ngrams2);
			console.log(ngrams1);
			console.log(ngrams2);
			console.log(distance);
		});

if(false)
		require(['tools/lang/recognition/NGrams'], function(NGrams){
			var ngrams = new NGrams(3, 3);
			ngrams.feed('Jèra na ‘olta, int’ un sèrto paexe, na toxatèƚa de kanpaña, ƚa pi bèƚa toxatèƚa ke se poese mai véder. Só mama ƚa jèra mata de eƚa, e só nòna ankora de pi. Sta bona dòna, na ‘olta, no savendo pi kosa darge, ƚa ge gavéa kuxío un tabareto de veƚudo roso fogo ke, da kuanto ke ƚa ge stàa ben, tuti i gavéa takà camarla Tabaro Roso, da tanto ke ƚo doparava senpre. Un dí só mama, sikome ke ƚa gavéa fato un fià de dolseti, la ge dixe, “Karo el mé ben, và véder kome ke ƚa stà tó nòna, parké go sentío ke no ƚa stà mia masa ben. Pòrtage sto dolseto, e sto tòko de butiro ke ƚa se tire un fià sú. Varda de konportarte ben pa’ ƚa strada e no stà ‘ndar torno par ñente.” Tabaro Roso, kontenta ke mai e sensa farseƚo dir do ‘olte, ƚa ge gavéa inpromeso de skoltarla, e ƚa gavéa skomensià inkaminarse pal paexe darente al sóo, indove ke ƚa vivéa só nòna. Kó ƚa jèra drio pasar pal bosko, parò, ƚa se gavéa katà davanti de un lovo ke ‘l gavéa xa ‘vuo na idèa o do de mañarseƚa tuta, se no ‘l ge fuse sta un tajaleñe a ramengar pal bosko. El lovo ‘ƚora ƚa ge ga dito “Bondi a ti, Tabaro Roso.” Ƚa pòra toxateƚa, ke no ƚa savéa ke ‘l jèra períkoƚo a star là a parlar kol lovo, el ge ga resposto ko kreansa, “Grasie lovo.” “Indove situ drio ‘ndar kusita de bonora, Tabaro Roso?” “So’ drio ‘ndar da mé nòna.” “E kòsa situ drio portar soto ƚa tó travèrsa?” “Mé nòna ƚa xe maƚada e so’ drio portarge un dolseto e un fià de butiro de mé mama”. “Àbiteƚa tanto distante tó nòna?” ƚa ge dimanda el lovo. “Nò de seguro”, el ge ga rebatúo Tabaro Roso. “Ƚa stà propio pi ‘n là de kel moƚin là via ke te vedi, inte ƚa prima kaxa de ‘l paexe ke ge xe da drio.” El lovo skomensiò pensar intra de ƚu, “Sto kua el xe un mañar fàsil. Dèso, kome xe ke pòso brinkarmeƚa?” Pensa ke te pensa, el ge ga dito, “Skoltame, Tabaro Roso, gatu visto tuti i fiori e fioreti ke i xe drio vèñer fora intel bosko? Parké no te và véderli? E no penso ke ti te pòsa sentir kuanto bel supiar ke i xe drio far i oxèi. Te sarisi drio kaminar kome se te stasi ‘ndando skoƚa. Xe bèƚo asè intel bosko.” Tabaro Roso ƚa ga takà pensar. “Se ge pòrto un maseto de fiori a la mé nòna ƚa sarà kontenta ankora de pi e ƚa se sentirà mèjo ankora de pi. D’ òñi mòdo xe ankora presto, e rivarò kaxa par tenpo insteso.” E dito kuesto ƚa se ga invoƚà in mèxo al bosko bagoƚandose a tòr sú noxèƚe, a kórer drio a ƚe paveje, e a tòr sú fiori. Òñi ‘olta ke ge ne toƚeva sú un ƚa pensava ke magari ge ne podeva èser altri pi bèƚi un poko pi ‘n là, e ge koreva rente, katandose senpre pi drento e drento intel bosko. Ma el lovo el gavéa skomensià kórer pi fòrte ke ‘l jèra bon, toƚendo un skurton, e no ‘l jèra pasà tanto tenpo vanti ke ‘l rivase de fronte ƚa kaxa de ƚa nòna. Skomensiò bàter a ƚa pòrta: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. “So’ tó neodeta, Tabaro Roso,” ƚa ge ga resposto el lovo fasendo ƚa só voxe, “ke te ga portà un tòko de dolse e un fià de butiro ke la me ga dà mé mama.” Ƚa bona noneta, ke ƚa jèra intel lèto parké ƚa jèra un fià maƚada, la ge ga sigà drio, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke ƚa pòrta ƚa se verxarà.” El lovo tira el rokèl e vèrxe ƚa pòrta. Po de kolpo el se buta so’ ƚa bona veceta e ƚa maña d’ un sol bokon!, parké i jèra xa tre dí ke no ‘l mañava ñente. Dopo el sèra ƚa pòrta e ‘l se mete intel lèto de ƚa nòna ko i só vestíi e ƚa só skufieta, ben skonto soto ƚe kovèrte, mentre ke ‘l spetàa ke ‘l rivase Tabaro Roso. E defati poko dopo ƚa jèra là ke ƚa bateva, eƚa: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. Tabaro Roso, kuando ke ƚa gavéa sentío ƚa voxe profonda de ‘l lovo, ƚa se gavéa un fià skaturía in prensipio, ma sikome ke se ga pensà ke só nòna ƚa jera un fià inmarokàa, ƚa ge ga resposto, “So’ vòstra neodeta, Tabaro Roso, ve go portà un tòko de dolse e un fià de butiro ke i ve manda mé mama.” El lovo sigò da drento, xbasando ƚa só voxe par kuanto ke ‘l jèra bon, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke ƚa pòrta ƚa se verxarà.” Tabaro Roso la tira el rokèl e la vèrxe ƚa pòrta. El lovo, kó ƚa ga vista entrar, ge ga dito, skondendose soto ƚe kuèrte, “Meti xo el dolseto e ‘l tòko de butiro sora de kel kason e vien in lèto ko mi.” Tabaro Roso se despòja e entra intel lèto. Ma de kolpo ƚa se maraveja parké se inakòrxe de kome ke ƚa pareva só nòna inte ƚa só spulxaroƚa, e la ge dixe, “Nòna, ke brasi grandi ke gavé!” “Karo el mé ben, i xe par strukonarte mèjo.” “Nòna, ma ke ganbe grandi ke gavé!” “Karo el mé ben, ƚe xe par kórer mèjo.” “Nòna, ma ke rece grandi ke gavé!” “Karo el mé ben, ƚe xe par sentir mèjo.” “Nòna, ma ke òci grandi ke gavé!” “Karo el mé ben, i xe par véder mèjo.” “Nòna, ma ke denti grandi ke gavé!” “Karo el mé ben, i xe par mañarte mèjo!” E, mentre ke ‘l dixéa ste paròle, el lovo kativo el se butéa de sora de Tabaro Roso e ƚa mañéa int’ un sol bokon! Moral: ƚe toxatèƚe, màsima kueƚe bèƚe, kreseste a mòdo e ko bona kreansa, no ƚe gavaría mai da parlar ko i forèsti, parké, par kueƚa ‘olta ke ƚo fasese, ƚe podería deventar mañar pal lovo. Dixo “lovo”, ma ge xe difarenti sòrti de lovi. Ge xe anka kueƚi ke i xe grasioxi, kièti, ko kreansa, modèsti, deñevoƚi, e dolsi, ke i và drio a ƚe xóvani toxe a kaxa e pa’ ƚe strade. E, par desgrasia, i xe propio sti lovi xentiƚi ke i xe kueƚi pi perikoƚoxi intra de tuti.');
			var ranks = ngrams.sort().slice(0, 300).join('');
			console.log(ranks);

/*			ngrams.reset();
			ngrams.feed('Jèra na ‘olta, int’ un sèrto paexe, na toxatèla de kanpaña, la pi bèla toxatèla ke se poese mai véder. Só mama la jèra mata de ela, e só nòna ankora de pi. Sta bona dòna, na ‘olta, no savendo pi kosa darge, la ge gavéa kuxío un tabareto de veludo roso fogo ke, da kuanto ke la ge stàa ben, tuti i gavéa takà camarla Tabaro Roso, da tanto ke lo doparava senpre. Un dí só mama, sikome ke la gavéa fato un fià de dolseti, la ge dixe, “Karo el mé ben, và véder kome ke la stà tó nòna, parké go sentío ke no la stà mia masa ben. Pòrtage sto dolseto, e sto tòko de butiro ke la se tire un fià sú. Varda de konportarte ben pa’ la strada e no stà ‘ndar torno par ñente.” Tabaro Roso, kontenta ke mai e sensa farselo dir do ‘olte, la ge gavéa inpromeso de skoltarla, e la gavéa skomensià inkaminarse pal paexe darente al sóo, indove ke la vivéa só nòna. Kó la jèra drio pasar pal bosko, parò, la se gavéa katà davanti de un lovo ke ‘l gavéa xa ‘vuo na idèa o do de mañarsela tuta, se no ‘l ge fuse sta un tajaleñe a ramengar pal bosko. El lovo ‘lora la ge ga dito “Bondi a ti, Tabaro Roso.” la pòra toxatela, ke no la savéa ke ‘l jèra períkolo a star là a parlar kol lovo, el ge ga resposto ko kreansa, “Grasie lovo.” “Indove situ drio ‘ndar kusita de bonora, Tabaro Roso?” “So’ drio ‘ndar da mé nòna.” “E kòsa situ drio portar soto la tó travèrsa?” “Mé nòna la xe malada e so’ drio portarge un dolseto e un fià de butiro de mé mama”. “Àbitela tanto distante tó nòna?” la ge dimanda el lovo. “Nò de seguro”, el ge ga rebatúo Tabaro Roso. “la stà propio pi ‘n là de kel molin là via ke te vedi, inte la prima kaxa de ‘l paexe ke ge xe da drio.” El lovo skomensiò pensar intra de lu, “Sto kua el xe un mañar fàsil. Dèso, kome xe ke pòso brinkarmela?” Pensa ke te pensa, el ge ga dito, “Skoltame, Tabaro Roso, gatu visto tuti i fiori e fioreti ke i xe drio vèñer fora intel bosko? Parké no te và véderli? E no penso ke ti te pòsa sentir kuanto bel supiar ke i xe drio far i oxèi. Te sarisi drio kaminar kome se te stasi ‘ndando skola. Xe bèlo asè intel bosko.” Tabaro Roso la ga takà pensar. “Se ge pòrto un maseto de fiori a la mé nòna la sarà kontenta ankora de pi e la se sentirà mèjo ankora de pi. D’ òñi mòdo xe ankora presto, e rivarò kaxa par tenpo insteso.” E dito kuesto la se ga involà in mèxo al bosko bagolandose a tòr sú noxèle, a kórer drio a le paveje, e a tòr sú fiori. Òñi ‘olta ke ge ne toleva sú un la pensava ke magari ge ne podeva èser altri pi bèli un poko pi ‘n là, e ge koreva rente, katandose senpre pi drento e drento intel bosko. Ma el lovo el gavéa skomensià kórer pi fòrte ke ‘l jèra bon, tolendo un skurton, e no ‘l jèra pasà tanto tenpo vanti ke ‘l rivase de fronte la kaxa de la nòna. Skomensiò bàter a la pòrta: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. “So’ tó neodeta, Tabaro Roso,” la ge ga resposto el lovo fasendo la só voxe, “ke te ga portà un tòko de dolse e un fià de butiro ke la me ga dà mé mama.” la bona noneta, ke la jèra intel lèto parké la jèra un fià malada, la ge ga sigà drio, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke la pòrta la se verxarà.” El lovo tira el rokèl e vèrxe la pòrta. Po de kolpo el se buta so’ la bona veceta e la maña d’ un sol bokon!, parké i jèra xa tre dí ke no ‘l mañava ñente. Dopo el sèra la pòrta e ‘l se mete intel lèto de la nòna ko i só vestíi e la só skufieta, ben skonto soto le kovèrte, mentre ke ‘l spetàa ke ‘l rivase Tabaro Roso. E defati poko dopo la jèra là ke la bateva, ela: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. Tabaro Roso, kuando ke la gavéa sentío la voxe profonda de ‘l lovo, la se gavéa un fià skaturía in prensipio, ma sikome ke se ga pensà ke só nòna la jera un fià inmarokàa, la ge ga resposto, “So’ vòstra neodeta, Tabaro Roso, ve go portà un tòko de dolse e un fià de butiro ke i ve manda mé mama.” El lovo sigò da drento, xbasando la só voxe par kuanto ke ‘l jèra bon, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke la pòrta la se verxarà.” Tabaro Roso la tira el rokèl e la vèrxe la pòrta. El lovo, kó la ga vista entrar, ge ga dito, skondendose soto le kuèrte, “Meti xo el dolseto e ‘l tòko de butiro sora de kel kason e vien in lèto ko mi.” Tabaro Roso se despòja e entra intel lèto. Ma de kolpo la se maraveja parké se inakòrxe de kome ke la pareva só nòna inte la só spulxarola, e la ge dixe, “Nòna, ke brasi grandi ke gavé!” “Karo el mé ben, i xe par strukonarte mèjo.” “Nòna, ma ke ganbe grandi ke gavé!” “Karo el mé ben, le xe par kórer mèjo.” “Nòna, ma ke rece grandi ke gavé!” “Karo el mé ben, le xe par sentir mèjo.” “Nòna, ma ke òci grandi ke gavé!” “Karo el mé ben, i xe par véder mèjo.” “Nòna, ma ke denti grandi ke gavé!” “Karo el mé ben, i xe par mañarte mèjo!” E, mentre ke ‘l dixéa ste paròle, el lovo kativo el se butéa de sora de Tabaro Roso e la mañéa int’ un sol bokon! Moral: le toxatèle, màsima kuele bèle, kreseste a mòdo e ko bona kreansa, no le gavaría mai da parlar ko i forèsti, parké, par kuela ‘olta ke lo fasese, le podería deventar mañar pal lovo. Dixo “lovo”, ma ge xe difarenti sòrti de lovi. Ge xe anka kueli ke i xe grasioxi, kièti, ko kreansa, modèsti, deñevoli, e dolsi, ke i và drio a le xóvani toxe a kaxa e pa’ le strade. E, par desgrasia, i xe propio sti lovi xentili ke i xe kueli pi perikoloxi intra de tuti.');
			var ranks = ngrams.sort().slice(0, 300).join('');
			console.log(ranks);*/

			ngrams.reset();
			ngrams.feed('C’era una volta una bambina tanto carina e dolce che solo a vederla, tutti se ne innamoravano, e specialmente la nonna che non sapeva davvero più cosa darle. Una volta le regalò un cappuccetto di velluto rosso, e poiché le stava tanto bene e lei non voleva mettere che quello, tutti la chiamavano Cappuccetto Rosso. Un giorno sua madre le disse: “Vieni Cappuccetto Rosso, qui c’è una bella fetta di dolce e una bottiglia di vino, portali alla nonna. È ammalata e debole e queste cose le faranno bene. Preparati prima che faccia troppo caldo e mi raccomando va piano e sii ben cauta per la tua strada, perché potresti cadere e rompere la bottiglia e per la nonna non resterebbe nulla. E quando arrivi da lei non scordarti di salutarla subito e non metterti, come sei solita, a frugare in ogni angolo.” “Farò tutto per bene”, promise Cappuccetto Rosso alla mamma, “te l’assicuro.” La nonna abitava lontano, nel bosco, a una mezz’ora dal paese. Quando Cappuccetto Rosso giunse nel bosco, incontrò il lupo. Cappuccetto Rosso non sapeva che il lupo fosse un animale cattivo e perciò non aveva paura. “Buon giorno Cappuccetto Rosso”, disse il lupo. “Buon giorno a te”, rispose la bambina. “Dove vai Cappuccetto Rosso, così presto di mattina.” “Vado dalla nonna.” “Cosa porti nascosto sotto il grembiulino?” “Vino e torta. È fresca. L’abbiamo cotta proprio ieri sera, così la nonna che è debole e malata si rinforzerà.” “Dove sta la tua nonna?” “A un quarto d’ora da qui, nel bosco; proprio sotto le tre querce, là c’è la sua casetta, e lì vicino c’è un gran cespuglio di noccioli, hai capito dove?” Il lupo pensò fra sé e sé: ‘ Questa bambinetta bella morbidina è proprio un bocconcino prelibato per me, sarà certo ancora meglio della vecchia! Se sarai accorto te le mangerai tutte e due ‘. Fece un tratto di strada con Cappuccetto Rosso, poi le disse: “Cappuccetto Rosso, guarda che bei fiorelíini, guardati attorno. Mi pare che tu non senta neppure come cinguettano gli uccellini. Te ne stai seria e composta come se andassi a scuola, e qui è tutto così fresco e allegro”. Cappuccetto Rosso alzò gli occhi e vide i raggi di sole che filtravano danzando attraverso gli alberi e quanti bei fiori c’erano e allora pensò: “Se porto un mazzolino di fiori alla nonna, certo le farà piacere. E ancora così presto”. Uscì dal sentiero e si inoltrò nel bosco in cerca di fiori. Non appena ne ebbe raccolto uno, là ne vedeva un altro ancora più bello e così correva qui e là e si inoltrava sempre più nel bosco. Il lupo invece se ne filò dritto a casa della nonna e bussò alla porta. “Chi è?” “Cappuccetto Rosso, ti porto vino e torta, aprimi.” “Apriti da sola”, disse la nonna, “io sono tanto debole che non posso alzarmi.” Il lupo fece leva sulla maniglia, la porta si aprì ed egli entrò senza pronunciare parola. Andò dritto al letto della nonna e d’un boccone se la mangiò. Poi si infilò i suoi vestiti, si mise la sua cuffia, si infilò nel letto e tirò per bene le tendine. Ma Cappuccetto Rosso si era persa dietro a ogni fiore e quando ne ebbe un mazzo che quasi non poteva portare, le venne in mente la nonna, e si mise in cammino per arrivare da lei. Molto si meravigliò che la porta fosse spalancata e quando arrivò nella stanza tutto le parve così strano e insolito, che pensò: ‘ Oh mio Dio, che sensazione strana ho oggi, e pensare che di solito vengo così volentieri dalla nonna! ‘. Allora si avvicinò al letto e scostò le tendine: la nonna era coricata con la cuffia ben abbassata sul viso e aveva uno strano aspetto. “Ehi nonna, che orecchie grandi hai”. “Per sentirti meglio.” “Ehi nonna, che occhi grandi hai.” “Per vederti meglio.” “Ehi nonna, che mani grandi hai.” “Per afferrarti meglio.” “Ma nonna che orrenda boccaccia hai.” “Per mangiarti meglio.” Appena detto ciò il lupo balzò dal letto e ingoiò la povera Cappuccetto Rosso. Quando il lupo ebbe saziata la sua ingordigia si rimise a letto, s’addormentò e cominciò a russare fragorosamente. Un cacciatore che passava di là pensò fra sé: ‘ Come russa la vecchia signora, devo andare a vedere se sta bene ‘. Entrò nella stube e, quando si avvicinò al letto, vide che lì dentro c’era il lupo. “Ti ho trovato, vecchio peccatore”, disse, “è un pezzo che ti cerco.” Già era pronto col fucile, quando gli venne in mente che forse il lupo s’era ingoiato la nonna e che forse era ancora possibile salvarla. Allora non sparò, ma prese una grossa forbice e cominciò ad aprire la pancia del lupo che era ancora addormentato. Dopo appena un paio di sforbiciate vide brillare un cappuccetto rosso e dopo altre due la bimba saltò fuori gridando: “Che paura ho avuto, era così buio nella pancia del lupo”. Poi uscì fuori la nonna ancora viva, anche se a malapena poteva respirare. Cappuccetto Rosso corse a prendere delle grosse pietre, riempì la pancia del lupo e presto presto la ricucì. Quando il lupo si svegliò voleva andarsene, ma le pietre erano talmente pesanti che subito cadde a terra e morì. Tutti e tre erano felici e contenti. Il cacciatore scorticò il lupo e se ne tornò a casa con la pelle, la nonna mangiò il dolce e bevve il vino e subito si sentì meglio. Cappuccetto Rosso pensava: ‘ Mai più me ne andrò sola per il bosco, lontano dal sentiero, quando la mamma me lo ha proibito ‘. C’è poi chi racconta che un’altra volta, mentre Cappuccetto Rosso portava dei dolci alla nonna, un altro lupo le rivolse la parola cercando di convincerla a lasciare il sentiero. Ma Cappuccetto Rosso se ne guardò bene e corse dalla nonna e le raccontò che aveva incontrato un lupo che l’aveva salutata gentilmente ma che aveva due occhiacci terribili. “Certo se non fossi stata sul sentiero quello mi avrebbe mangiata.” “Vieni”, disse la nonna, “chiudiamo bene la porta in modo che non possa entrare.” Poco dopo il lupo bussò alla porta e disse: “Apri nonna, sono Cappuccetto Rosso, e ti porto una focaccia dolce”. Ma quelle zitte zitte non aprirono la porta, il lupaccio allora fece il giro della casa, poi saltò sul tetto per aspettare la sera quando Cappuccetto Rosso se ne sarebbe tornata a casa. Voleva seguirla di soppiatto e, nel buio, mangiarsela in un boccone. Ma la nonna capì quello che la bestiaccia aveva in mente. Dunque proprio davanti alla casa c’era una vasca di pietra, un trogolo per gli animali e la nonna disse alla bambina: “Prendi il secchio, Cappuccetto Rosso, proprio ieri ho cotto le salsicce, porta nel trogolo l’acqua delle salsicce, finché non sarà ben pieno”. E Cappuccetto Rosso fece così. Il profumo delle salsicce arrivò al naso del lupo che cominciò ad annusare e a guardar giù dal tetto. Infine allungò talmente il collo che non poté più reggersi e cominciò a scivolare; scivolò dal tetto proprio dentro al trogolo e affogò. Cappuccetto Rosso se ne tornò a casa e nessuno più le fece del male.');
			var ranks = ngrams.sort().slice(0, 300).join('');
			console.log(ranks);
		});

if(false)
		require(['tools/lang/recognition/Markov'], function(Markov){
			var m = new Markov(2);
			m.feed('Jèra na ‘olta, int’ un sèrto paexe, na toxatèƚa de kanpaña, ƚa pi bèƚa toxatèƚa ke se poese mai véder. Só mama ƚa jèra mata de eƚa, e só nòna ankora de pi. Sta bona dòna, na ‘olta, no savendo pi kosa darge, ƚa ge gavéa kuxío un tabareto de veƚudo roso fogo ke, da kuanto ke ƚa ge stàa ben, tuti i gavéa takà camarla Tabaro Roso, da tanto ke ƚo doparava senpre. Un dí só mama, sikome ke ƚa gavéa fato un fià de dolseti, la ge dixe, “Karo el mé ben, và véder kome ke ƚa stà tó nòna, parké go sentío ke no ƚa stà mia masa ben. Pòrtage sto dolseto, e sto tòko de butiro ke ƚa se tire un fià sú. Varda de konportarte ben pa’ ƚa strada e no stà ‘ndar torno par ñente.” Tabaro Roso, kontenta ke mai e sensa farseƚo dir do ‘olte, ƚa ge gavéa inpromeso de skoltarla, e ƚa gavéa skomensià inkaminarse pal paexe darente al sóo, indove ke ƚa vivéa só nòna. Kó ƚa jèra drio pasar pal bosko, parò, ƚa se gavéa katà davanti de un lovo ke ‘l gavéa xa ‘vuo na idèa o do de mañarseƚa tuta, se no ‘l ge fuse sta un tajaleñe a ramengar pal bosko. El lovo ‘ƚora ƚa ge ga dito “Bondi a ti, Tabaro Roso.” Ƚa pòra toxateƚa, ke no ƚa savéa ke ‘l jèra períkoƚo a star là a parlar kol lovo, el ge ga resposto ko kreansa, “Grasie lovo.” “Indove situ drio ‘ndar kusita de bonora, Tabaro Roso?” “So’ drio ‘ndar da mé nòna.” “E kòsa situ drio portar soto ƚa tó travèrsa?” “Mé nòna ƚa xe maƚada e so’ drio portarge un dolseto e un fià de butiro de mé mama”. “Àbiteƚa tanto distante tó nòna?” ƚa ge dimanda el lovo. “Nò de seguro”, el ge ga rebatúo Tabaro Roso. “Ƚa stà propio pi ‘n là de kel moƚin là via ke te vedi, inte ƚa prima kaxa de ‘l paexe ke ge xe da drio.” El lovo skomensiò pensar intra de ƚu, “Sto kua el xe un mañar fàsil. Dèso, kome xe ke pòso brinkarmeƚa?” Pensa ke te pensa, el ge ga dito, “Skoltame, Tabaro Roso, gatu visto tuti i fiori e fioreti ke i xe drio vèñer fora intel bosko? Parké no te và véderli? E no penso ke ti te pòsa sentir kuanto bel supiar ke i xe drio far i oxèi. Te sarisi drio kaminar kome se te stasi ‘ndando skoƚa. Xe bèƚo asè intel bosko.” Tabaro Roso ƚa ga takà pensar. “Se ge pòrto un maseto de fiori a la mé nòna ƚa sarà kontenta ankora de pi e ƚa se sentirà mèjo ankora de pi. D’ òñi mòdo xe ankora presto, e rivarò kaxa par tenpo insteso.” E dito kuesto ƚa se ga invoƚà in mèxo al bosko bagoƚandose a tòr sú noxèƚe, a kórer drio a ƚe paveje, e a tòr sú fiori. Òñi ‘olta ke ge ne toƚeva sú un ƚa pensava ke magari ge ne podeva èser altri pi bèƚi un poko pi ‘n là, e ge koreva rente, katandose senpre pi drento e drento intel bosko. Ma el lovo el gavéa skomensià kórer pi fòrte ke ‘l jèra bon, toƚendo un skurton, e no ‘l jèra pasà tanto tenpo vanti ke ‘l rivase de fronte ƚa kaxa de ƚa nòna. Skomensiò bàter a ƚa pòrta: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. “So’ tó neodeta, Tabaro Roso,” ƚa ge ga resposto el lovo fasendo ƚa só voxe, “ke te ga portà un tòko de dolse e un fià de butiro ke la me ga dà mé mama.” Ƚa bona noneta, ke ƚa jèra intel lèto parké ƚa jèra un fià maƚada, la ge ga sigà drio, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke ƚa pòrta ƚa se verxarà.” El lovo tira el rokèl e vèrxe ƚa pòrta. Po de kolpo el se buta so’ ƚa bona veceta e ƚa maña d’ un sol bokon!, parké i jèra xa tre dí ke no ‘l mañava ñente. Dopo el sèra ƚa pòrta e ‘l se mete intel lèto de ƚa nòna ko i só vestíi e ƚa só skufieta, ben skonto soto ƚe kovèrte, mentre ke ‘l spetàa ke ‘l rivase Tabaro Roso. E defati poko dopo ƚa jèra là ke ƚa bateva, eƚa: tòk, tòk, tòk. “Ki xe ke ‘l bate?”. Tabaro Roso, kuando ke ƚa gavéa sentío ƚa voxe profonda de ‘l lovo, ƚa se gavéa un fià skaturía in prensipio, ma sikome ke se ga pensà ke só nòna ƚa jera un fià inmarokàa, ƚa ge ga resposto, “So’ vòstra neodeta, Tabaro Roso, ve go portà un tòko de dolse e un fià de butiro ke i ve manda mé mama.” El lovo sigò da drento, xbasando ƚa só voxe par kuanto ke ‘l jèra bon, “Son masa inkomodàa par vèñerte vèrxer. Tira el rokèl, e te vedarà ke ƚa pòrta ƚa se verxarà.” Tabaro Roso la tira el rokèl e la vèrxe ƚa pòrta. El lovo, kó ƚa ga vista entrar, ge ga dito, skondendose soto ƚe kuèrte, “Meti xo el dolseto e ‘l tòko de butiro sora de kel kason e vien in lèto ko mi.” Tabaro Roso se despòja e entra intel lèto. Ma de kolpo ƚa se maraveja parké se inakòrxe de kome ke ƚa pareva só nòna inte ƚa só spulxaroƚa, e la ge dixe, “Nòna, ke brasi grandi ke gavé!” “Karo el mé ben, i xe par strukonarte mèjo.” “Nòna, ma ke ganbe grandi ke gavé!” “Karo el mé ben, ƚe xe par kórer mèjo.” “Nòna, ma ke rece grandi ke gavé!” “Karo el mé ben, ƚe xe par sentir mèjo.” “Nòna, ma ke òci grandi ke gavé!” “Karo el mé ben, i xe par véder mèjo.” “Nòna, ma ke denti grandi ke gavé!” “Karo el mé ben, i xe par mañarte mèjo!” E, mentre ke ‘l dixéa ste paròle, el lovo kativo el se butéa de sora de Tabaro Roso e ƚa mañéa int’ un sol bokon! Moral: ƚe toxatèƚe, màsima kueƚe bèƚe, kreseste a mòdo e ko bona kreansa, no ƚe gavaría mai da parlar ko i forèsti, parké, par kueƚa ‘olta ke ƚo fasese, ƚe podería deventar mañar pal lovo. Dixo “lovo”, ma ge xe difarenti sòrti de lovi. Ge xe anka kueƚi ke i xe grasioxi, kièti, ko kreansa, modèsti, deñevoƚi, e dolsi, ke i và drio a ƚe xóvani toxe a kaxa e pa’ ƚe strade. E, par desgrasia, i xe propio sti lovi xentiƚi ke i xe kueƚi pi perikoƚoxi intra de tuti.');
			console.log(m);
			console.log(m.printData());

			m = new Markov(2);
			m.feed('C’era una volta una bambina tanto carina e dolce che solo a vederla, tutti se ne innamoravano, e specialmente la nonna che non sapeva davvero più cosa darle. Una volta le regalò un cappuccetto di velluto rosso, e poiché le stava tanto bene e lei non voleva mettere che quello, tutti la chiamavano Cappuccetto Rosso. Un giorno sua madre le disse: “Vieni Cappuccetto Rosso, qui c’è una bella fetta di dolce e una bottiglia di vino, portali alla nonna. È ammalata e debole e queste cose le faranno bene. Preparati prima che faccia troppo caldo e mi raccomando va piano e sii ben cauta per la tua strada, perché potresti cadere e rompere la bottiglia e per la nonna non resterebbe nulla. E quando arrivi da lei non scordarti di salutarla subito e non metterti, come sei solita, a frugare in ogni angolo.” “Farò tutto per bene”, promise Cappuccetto Rosso alla mamma, “te l’assicuro.” La nonna abitava lontano, nel bosco, a una mezz’ora dal paese. Quando Cappuccetto Rosso giunse nel bosco, incontrò il lupo. Cappuccetto Rosso non sapeva che il lupo fosse un animale cattivo e perciò non aveva paura. “Buon giorno Cappuccetto Rosso”, disse il lupo. “Buon giorno a te”, rispose la bambina. “Dove vai Cappuccetto Rosso, così presto di mattina.” “Vado dalla nonna.” “Cosa porti nascosto sotto il grembiulino?” “Vino e torta. È fresca. L’abbiamo cotta proprio ieri sera, così la nonna che è debole e malata si rinforzerà.” “Dove sta la tua nonna?” “A un quarto d’ora da qui, nel bosco; proprio sotto le tre querce, là c’è la sua casetta, e lì vicino c’è un gran cespuglio di noccioli, hai capito dove?” Il lupo pensò fra sé e sé: ‘ Questa bambinetta bella morbidina è proprio un bocconcino prelibato per me, sarà certo ancora meglio della vecchia! Se sarai accorto te le mangerai tutte e due ‘. Fece un tratto di strada con Cappuccetto Rosso, poi le disse: “Cappuccetto Rosso, guarda che bei fiorelíini, guardati attorno. Mi pare che tu non senta neppure come cinguettano gli uccellini. Te ne stai seria e composta come se andassi a scuola, e qui è tutto così fresco e allegro”. Cappuccetto Rosso alzò gli occhi e vide i raggi di sole che filtravano danzando attraverso gli alberi e quanti bei fiori c’erano e allora pensò: “Se porto un mazzolino di fiori alla nonna, certo le farà piacere. E ancora così presto”. Uscì dal sentiero e si inoltrò nel bosco in cerca di fiori. Non appena ne ebbe raccolto uno, là ne vedeva un altro ancora più bello e così correva qui e là e si inoltrava sempre più nel bosco. Il lupo invece se ne filò dritto a casa della nonna e bussò alla porta. “Chi è?” “Cappuccetto Rosso, ti porto vino e torta, aprimi.” “Apriti da sola”, disse la nonna, “io sono tanto debole che non posso alzarmi.” Il lupo fece leva sulla maniglia, la porta si aprì ed egli entrò senza pronunciare parola. Andò dritto al letto della nonna e d’un boccone se la mangiò. Poi si infilò i suoi vestiti, si mise la sua cuffia, si infilò nel letto e tirò per bene le tendine. Ma Cappuccetto Rosso si era persa dietro a ogni fiore e quando ne ebbe un mazzo che quasi non poteva portare, le venne in mente la nonna, e si mise in cammino per arrivare da lei. Molto si meravigliò che la porta fosse spalancata e quando arrivò nella stanza tutto le parve così strano e insolito, che pensò: ‘ Oh mio Dio, che sensazione strana ho oggi, e pensare che di solito vengo così volentieri dalla nonna! ‘. Allora si avvicinò al letto e scostò le tendine: la nonna era coricata con la cuffia ben abbassata sul viso e aveva uno strano aspetto. “Ehi nonna, che orecchie grandi hai”. “Per sentirti meglio.” “Ehi nonna, che occhi grandi hai.” “Per vederti meglio.” “Ehi nonna, che mani grandi hai.” “Per afferrarti meglio.” “Ma nonna che orrenda boccaccia hai.” “Per mangiarti meglio.” Appena detto ciò il lupo balzò dal letto e ingoiò la povera Cappuccetto Rosso. Quando il lupo ebbe saziata la sua ingordigia si rimise a letto, s’addormentò e cominciò a russare fragorosamente. Un cacciatore che passava di là pensò fra sé: ‘ Come russa la vecchia signora, devo andare a vedere se sta bene ‘. Entrò nella stube e, quando si avvicinò al letto, vide che lì dentro c’era il lupo. “Ti ho trovato, vecchio peccatore”, disse, “è un pezzo che ti cerco.” Già era pronto col fucile, quando gli venne in mente che forse il lupo s’era ingoiato la nonna e che forse era ancora possibile salvarla. Allora non sparò, ma prese una grossa forbice e cominciò ad aprire la pancia del lupo che era ancora addormentato. Dopo appena un paio di sforbiciate vide brillare un cappuccetto rosso e dopo altre due la bimba saltò fuori gridando: “Che paura ho avuto, era così buio nella pancia del lupo”. Poi uscì fuori la nonna ancora viva, anche se a malapena poteva respirare. Cappuccetto Rosso corse a prendere delle grosse pietre, riempì la pancia del lupo e presto presto la ricucì. Quando il lupo si svegliò voleva andarsene, ma le pietre erano talmente pesanti che subito cadde a terra e morì. Tutti e tre erano felici e contenti. Il cacciatore scorticò il lupo e se ne tornò a casa con la pelle, la nonna mangiò il dolce e bevve il vino e subito si sentì meglio. Cappuccetto Rosso pensava: ‘ Mai più me ne andrò sola per il bosco, lontano dal sentiero, quando la mamma me lo ha proibito ‘. C’è poi chi racconta che un’altra volta, mentre Cappuccetto Rosso portava dei dolci alla nonna, un altro lupo le rivolse la parola cercando di convincerla a lasciare il sentiero. Ma Cappuccetto Rosso se ne guardò bene e corse dalla nonna e le raccontò che aveva incontrato un lupo che l’aveva salutata gentilmente ma che aveva due occhiacci terribili. “Certo se non fossi stata sul sentiero quello mi avrebbe mangiata.” “Vieni”, disse la nonna, “chiudiamo bene la porta in modo che non possa entrare.” Poco dopo il lupo bussò alla porta e disse: “Apri nonna, sono Cappuccetto Rosso, e ti porto una focaccia dolce”. Ma quelle zitte zitte non aprirono la porta, il lupaccio allora fece il giro della casa, poi saltò sul tetto per aspettare la sera quando Cappuccetto Rosso se ne sarebbe tornata a casa. Voleva seguirla di soppiatto e, nel buio, mangiarsela in un boccone. Ma la nonna capì quello che la bestiaccia aveva in mente. Dunque proprio davanti alla casa c’era una vasca di pietra, un trogolo per gli animali e la nonna disse alla bambina: “Prendi il secchio, Cappuccetto Rosso, proprio ieri ho cotto le salsicce, porta nel trogolo l’acqua delle salsicce, finché non sarà ben pieno”. E Cappuccetto Rosso fece così. Il profumo delle salsicce arrivò al naso del lupo che cominciò ad annusare e a guardar giù dal tetto. Infine allungò talmente il collo che non poté più reggersi e cominciò a scivolare; scivolò dal tetto proprio dentro al trogolo e affogò. Cappuccetto Rosso se ne tornò a casa e nessuno più le fece del male.');
			console.log(m);
			console.log(m.printData());/**/

			var response = m.ask(undefined, 1, 20);
			console.log(response);
			console.log(m.logProbability('bambina'));/**/
		});

//if(false)
		require(['tools/lang/recognition/LanguageDetection'], function(LanguageDetection){
			var lang = new LanguageDetection();
			lang.identify('kuanto ke so\' kontento de èsar stà kuà', function(words, recon){
				console.log(words);
				console.log(recon);
			});
			lang.identify('quanto sono contento di essere stato qua', function(langs, recon){
				console.log(langs);
				console.log(recon);
			});
		});

	</script>
</head>

<body>
</body>
</html>
